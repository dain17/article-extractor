写真：Impress Watch
本連載では、無料の高機能3Dモデリングツール「Blender」の使い方や関連情報を幅広くお伝えします。

【この記事に関する別の画像を見る】

窓の杜から
ダウンロード

　今回はキャラクター制作でおなじみの「アーマチュア」や「リギング」などの用語を解説します。アニメーションはしなくてもキャラクターは作ってみたいという方は多いのではないでしょうか。まずは用語だけでも知っておいても損はないと思います。

【記事目次】
・アーマチュア
・ボーン
・頂点グループ
・エンベロープ
・リグ・リギング
・コンストレイント
・IK
・ポーズ

■ アーマチュア

　人体などの生物のポーズを表現するために骨組みを模した機構。他のツールなどでは「スケルトン」とも。

　ボーンの集合で構成され、メッシュオブジェクトの頂点と「頂点グループ」や「エンベロープ」などでバインド（関連付け）され、骨格に基づいた変形を行う。

　［編集モード］でボーンの編集を行い、［ポーズモード］でポーズを付ける。

■ ボーン

　3DCGではキャラクターなどを動かす骨格に使用される仮想の骨のこと。

　「Blender」ではヘッド（Head）と呼ばれる「根元」と、テール（Tail）と呼ばれる「先端」で構成され、この2つが「ペアレント」でつながり、関節を作る。ボーンにはそれぞれ「ローカル軸」があり、把握しておかないとリギングの際に苦労することになる。

　表示方法には複数の種類があり、さらに他のメッシュオブジェクトを指定し、ターゲット用の特別なボーンを判別しやすくすることも可能。

■ 頂点グループ

　頂点をまとめる機能。主に「モディファイアー」などによる影響範囲の指定や除外に使用され、機能によっては「ウェイト」（重みづけ）により、その影響力が調整できる。「Blender」では［編集モード］と［ウェイトペイント］にて編集が可能。

　アーマチュアとの関連付けは通常、メッシュをアーマチュアの子として［ペアレント］－［アーマチュア変形］－［自動のウェイトで］を使用し、自動的にウェイトを追加・設定して行う。

　ボーンと同名の頂点グループが設定された頂点がボーンの影響を受け、複数の頂点グループが指定されている場合は、各頂点グループのウェイトで動きが決まる。

　「Blender」では1つの頂点に設定可能な頂点グループ数に制限はないが、「Unity」などのゲームエンジンではパフォーマンスの理由で4つ程度に制限されていることが多い。また、ウェイトの合計が「1.0」でないといけないなどの制限もあるため、「Blender」で作成後、他のツールなどで利用する場合は注意が必要である。

■ エンベロープ
・「Blender」でアーマチュアとメッシュを関連付ける方法の1つ。各ボーンの周囲に、各ボーンの関節ごとに大きさを決めた領域を設定し、その中に入った頂点を変形の対象とする。実際には直接この機能で変形するより、頂点グループに変換するなど補助的に利用されることが多い。
・F カーブ用の「モディファイアー」の1つ。

■ リグ・リギング

　「機構」のこと。また、このような機構を構築することをリギングと呼ぶ。

　例えば［ペアレント］によりドアを開け閉めする機構や、「カメラ」をターゲットに向ける機構、そして［アーマチュア］を使用した、人体を模した構造などが「リグ」にあたる。

　「Blender」でのリギングには［コンストレイント］などが利用される。

■ コンストレイント

　ボーンやオブジェクトの動き（トランスフォーム）を制御する機能。「Blender」では単純にトランスフォーム情報をコピーしたり、変換するものもあれば、追跡（トラック）やIK（インバースキネマティクス）を行うもの、ペアレントを操作するものなど、様々な種類がある。

■ IK

　Inverse Kinematics（インバースキネマティクス）の略称。

　ターゲットの位置に先端のボーンが到達するよう、途中のボーンを自動的に回転して合わせる機能。腕や脚のポージングの省力化に非常に役に立つが、その反面、途中のボーンの姿勢を調整できない欠点がある。「Blender」ではボーン用のコンストレイントの1つとして実装されている。

　反対語として、FK（Forward Kinematics: フォワードキネマティクス）があり、こちらはIKのないデフォルトの状態で、ユーザーが途中のボーンの姿勢を自由に決めることができる代わりに、ターゲットの位置に先端のボーンを到達させるような用途には向かない。リグにはIKとFKを切り替え可能な物がある。

■ ポーズ

　「Blender」ではアーマチュアで各ボーンの姿勢をまとめた物。［ポーズモード］で編集する。ポーズは［ポーズアセット］としてポーズライブラリに登録することや、アセットブラウザーなどから再利用することが可能。
窓の杜,山崎 聡